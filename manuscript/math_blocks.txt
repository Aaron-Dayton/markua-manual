{#mathblocks}
# Math Blocks

You can put mathematical equations in your book, in either block elements (described below) or in [span elements](#math-span).

To create a math block, you insert it like a code block and you add a `math` attribute. The key is `math` and the value can either be `latex`, `mathml` or some other term.  This value specifies the markup language of the Math block.

**Markua procesors do NOT need to support any given Math markup language.**

However, if a Markua processor does not understand a given Math markup language specified by the value of a `math` attribute (say, if it supports LaTeX math but not MathML), it **MUST** output the content of the math block **as a code block formatted as text**.

## LaTeX Math with `{math: latex}`

To add LaTeX math, use `{math: latex}`:

### Markua Syntax

~~~
Here is some paragraph text.

{math: latex}
```
\left|\sum_{i=1}^n a_ib_i\right|
\le
\left(\sum_{i=1}^n a_i^2\right)^{1/2}
\left(\sum_{i=1}^n b_i^2\right)^{1/2}
```

Here is some more paragraph text.
~~~

### HTML Output

Markua processors can do whatever they want here. They can even output the entire thing as an image and insert the image, since that works on the most legacy ebook readers. Accessibility for old devices and accessibility for people with visual disabilities are often in conflict, and it's up to the Markua Processor to decide what to do.

## MathML Math with `{math: mathml}`

To add MathML math, use `{math: mathml}`:

A> MathML is not supported in Leanpub, so we have no idea if supporting it is a good idea or not.

### Markua Syntax

~~~
Here's an example from [Wikipedia](http://en.wikipedia.org/wiki/MathML):

{math: mathml}
```
<apply>
  <plus/>
  <apply>
    <times/>
    <ci>a</ci>
    <apply>
      <power/>
      <ci>x</ci>
      <cn>2</cn>
    </apply>
  </apply>
  <apply>
    <times/>
    <ci>b</ci>
    <ci>x</ci>
  </apply>
  <ci>c</ci>
</apply>
```

Here is some more paragraph text.
~~~

### HTML Output

Markua processors can do whatever they want here as well.

## Math Blocks with Default `math`

Note that there is a default markup language for math in a Markua document. It is determined by the value of the `math` attribute which is set in the metadata. The default value of the `math` attribute is `latex`.

Because of this, you can also insert math like this:

### Markua Syntax

~~~
Here is some paragraph text.

```math
\left|\sum_{i=1}^n a_ib_i\right|
\le
\left(\sum_{i=1}^n a_i^2\right)^{1/2}
\left(\sum_{i=1}^n b_i^2\right)^{1/2}
```

Here is some more paragraph text.
~~~

### HTML Output

Markua processors can do whatever they want here as well.